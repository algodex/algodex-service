title: Message
type: object
description: |
  # Message Passing Model

  All messages in the ecosystem use this schema. This includes inter
  process communication(IPC), WebSockets(ws), and Exception Handling(throw
  new DexError(msg)). This is the basis of our gossip protocol, the means of
  communication between all running instances in the ecosystem.
properties:
  name:
    type: string
    default: Message
    description: |
      ## Name

      Human readable identifier. All **Messages** must have a name,
      by default it's name is Message. This should not effect the
      operation of the ecosystem or used for context switching, it is only
      used when Logging or Exception Handling.
  description:
    type: string
    description: |
      ## Description
      TODO: Select best key name [msg | message | info | description]

      A helpful message for conversations. This is a main part
      of our gossip protocol. All **Messages** must have an **description**
      property that explains what exactly the message is. For example,
      when given a state transformation of an Asset, a useful message
      would be "Price Changed".
  type:
    type: string
    default: message
    enum:
      - message
      - asset
      - chart
      - block
      - transaction
      - order
      - error
    description: |
      ## Type

      One of the other core features of the gossip protocol includes type. **Type**
      should be used for context switching and validating the data property. If
      **type** is set, **data** should be an instance of the specified **type**.
  data:
    oneOf:
      - type: string
        description: |
          ## Serialized

          A stringified instance of a model's data.
      - $ref: './Asset.yml'
      - $ref: './Chart.yml'
      - $ref: './Block.yml'
      - $ref: './Order.yml'
      - $ref: './Transaction.yml'
    description: |
      ## Data

      If data exists on the message, we assume it is one of our core
      **Models** and we validate it against the **Messages** **type**
required:
  - name
  - description
  - type

